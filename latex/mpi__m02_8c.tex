\hypertarget{mpi__m02_8c}{\section{src/mpi\-\_\-m02.c File Reference}
\label{mpi__m02_8c}\index{src/mpi\-\_\-m02.\-c@{src/mpi\-\_\-m02.\-c}}
}


Laboratorio M2.\-1\-: Recogida global en M\-P\-I (I) -\/ Difusión Lineal.  


{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$mpi.\-h$>$}\\*
{\ttfamily \#include \char`\"{}utils.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{mpi__m02_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{mpi__m02_8c_a62359957ca77ebf4d9d28cd0b99b901f}{M\-U\-L\-T\-I\-P\-L\-O} = 1
\begin{DoxyCompactList}\small\item\em Define cuantos elementos del vector posee cada proceso. El valor por defecto es 1. \end{DoxyCompactList}\item 
int \hyperlink{mpi__m02_8c_a2f852d57f5c63ebea3f007e3360806c4}{mi\-\_\-id}
\begin{DoxyCompactList}\small\item\em Número que identifica a cada proceso. Es asignado automáticamente por M\-P\-I al ejecutar con {\ttfamily mpirun}. \end{DoxyCompactList}\item 
int \hyperlink{mpi__m02_8c_ab00de16e9393bbf005012413043ea74d}{num\-\_\-procs}
\begin{DoxyCompactList}\small\item\em Número de procesos. Es establecido automáticamente por M\-P\-I al ejecutar con {\ttfamily mpirun}. \end{DoxyCompactList}\item 
int \hyperlink{mpi__m02_8c_acb559820d9ca11295b4500f179ef6392}{i}
\begin{DoxyCompactList}\small\item\em Contador. Se usa en los diferentes bucles del programa. \end{DoxyCompactList}\item 
int $\ast$ \hyperlink{mpi__m02_8c_ae086787f574c1a13b95728ca3cddbc08}{vector}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Laboratorio M2.\-1\-: Recogida global en M\-P\-I (I) -\/ Difusión Lineal. \subsection*{Recogida global en M\-P\-I (I)}

Desarrolla una implementación de {\itshape recogida global} en M\-P\-I en la que {\itshape p} procesos deben conseguir una copia de todos los elementos de un vector de {\itshape n} datos inicialmente repartido a partes iguales entre todos ellos (es decir, cada proceso tiene inicialmente {\itshape n/p} elementos del vector y, para simplificar el problema, se supondrá que {\itshape n} es múltiplo de {\itshape p}). Se trata de la misma operación que implementa la función {\ttfamily M\-P\-I\-\_\-\-Allgather} de la biblioteca M\-P\-I.

Dicha difusión debe realizarse utilizando las siguiente estrategias\-:


\begin{DoxyItemize}
\item {\bfseries Difusión lineal.} Uno tras otro, cada uno de los procesos envía su parte del vector a los restantes procesos mediante una operación de difusión de M\-P\-I (M\-P\-I Bcast).
\end{DoxyItemize}


\begin{DoxyItemize}
\item {\bfseries Doblado recursivo.} Este algoritmo funciona en $log_2 p$ etapas. En la primera etapa, aquellos procesos que están a una distancia de 1 (en relación a su identificador) intercambian sus partes del vector. En la segunda etapa, los procesos que están a una distancia 2 intercambian sus partes del vector (incluidas aquellas que recibieron en la etapa anterior). En la tercera etapa realizarán el intercambio aquellos procesos que están a una distancia 4 y así sucesivamente. Para simplificar el problema, se supondrá que p es una potencia de 2. 
\end{DoxyItemize}

\subsection{Function Documentation}
\hypertarget{mpi__m02_8c_a3c04138a5bfe5d72780bb7e82a18e627}{\index{mpi\-\_\-m02.\-c@{mpi\-\_\-m02.\-c}!main@{main}}
\index{main@{main}!mpi_m02.c@{mpi\-\_\-m02.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{mpi__m02_8c_a3c04138a5bfe5d72780bb7e82a18e627}
Función main. Inicializa M\-P\-I y ejecuta el algoritmo de {\bfseries difusión lineal}.


\begin{DoxyParams}{Parameters}
{\em argc} & parámetro automático con el número de argumentos recibidos desde el C\-L\-I \\
\hline
{\em argv} & \mbox{[}1\mbox{]} el primer parámetro del C\-L\-I especifica el número de elementos del vector que pertenecen a cada proceso ({\ttfamily M\-U\-L\-T\-I\-P\-L\-O}). Por defecto {\ttfamily M\-U\-L\-T\-I\-P\-L\-O} es 1. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 si todo ha ido bien. 
\end{DoxyReturn}
\paragraph*{P\-A\-S\-O\-S\-:}


\begin{DoxyItemize}
\item Se inicializa el sistema M\-P\-I.
\end{DoxyItemize}


\begin{DoxyItemize}
\item Se inicializa el vector y se rellena el área de cada proceso con un valor igual al I\-D del proceso.
\end{DoxyItemize}


\begin{DoxyItemize}
\item Cada proceso muestra su vector.
\end{DoxyItemize}


\begin{DoxyItemize}
\item Cada proceso hace un {\itshape broadcast} al resto de procesos con su trozo del vector.
\end{DoxyItemize}


\begin{DoxyItemize}
\item Cada proceso vuelve a mostrar su vector.
\end{DoxyItemize}


\begin{DoxyItemize}
\item Se finaliza el sistema M\-P\-I y se retorna 0. 
\end{DoxyItemize}

\subsection{Variable Documentation}
\hypertarget{mpi__m02_8c_acb559820d9ca11295b4500f179ef6392}{\index{mpi\-\_\-m02.\-c@{mpi\-\_\-m02.\-c}!i@{i}}
\index{i@{i}!mpi_m02.c@{mpi\-\_\-m02.\-c}}
\subsubsection[{i}]{\setlength{\rightskip}{0pt plus 5cm}int i}}\label{mpi__m02_8c_acb559820d9ca11295b4500f179ef6392}


Contador. Se usa en los diferentes bucles del programa. 

\hypertarget{mpi__m02_8c_a2f852d57f5c63ebea3f007e3360806c4}{\index{mpi\-\_\-m02.\-c@{mpi\-\_\-m02.\-c}!mi\-\_\-id@{mi\-\_\-id}}
\index{mi\-\_\-id@{mi\-\_\-id}!mpi_m02.c@{mpi\-\_\-m02.\-c}}
\subsubsection[{mi\-\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}int mi\-\_\-id}}\label{mpi__m02_8c_a2f852d57f5c63ebea3f007e3360806c4}


Número que identifica a cada proceso. Es asignado automáticamente por M\-P\-I al ejecutar con {\ttfamily mpirun}. 

\hypertarget{mpi__m02_8c_a62359957ca77ebf4d9d28cd0b99b901f}{\index{mpi\-\_\-m02.\-c@{mpi\-\_\-m02.\-c}!M\-U\-L\-T\-I\-P\-L\-O@{M\-U\-L\-T\-I\-P\-L\-O}}
\index{M\-U\-L\-T\-I\-P\-L\-O@{M\-U\-L\-T\-I\-P\-L\-O}!mpi_m02.c@{mpi\-\_\-m02.\-c}}
\subsubsection[{M\-U\-L\-T\-I\-P\-L\-O}]{\setlength{\rightskip}{0pt plus 5cm}int M\-U\-L\-T\-I\-P\-L\-O = 1}}\label{mpi__m02_8c_a62359957ca77ebf4d9d28cd0b99b901f}


Define cuantos elementos del vector posee cada proceso. El valor por defecto es 1. 

\hypertarget{mpi__m02_8c_ab00de16e9393bbf005012413043ea74d}{\index{mpi\-\_\-m02.\-c@{mpi\-\_\-m02.\-c}!num\-\_\-procs@{num\-\_\-procs}}
\index{num\-\_\-procs@{num\-\_\-procs}!mpi_m02.c@{mpi\-\_\-m02.\-c}}
\subsubsection[{num\-\_\-procs}]{\setlength{\rightskip}{0pt plus 5cm}int num\-\_\-procs}}\label{mpi__m02_8c_ab00de16e9393bbf005012413043ea74d}


Número de procesos. Es establecido automáticamente por M\-P\-I al ejecutar con {\ttfamily mpirun}. 

\hypertarget{mpi__m02_8c_ae086787f574c1a13b95728ca3cddbc08}{\index{mpi\-\_\-m02.\-c@{mpi\-\_\-m02.\-c}!vector@{vector}}
\index{vector@{vector}!mpi_m02.c@{mpi\-\_\-m02.\-c}}
\subsubsection[{vector}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$ vector}}\label{mpi__m02_8c_ae086787f574c1a13b95728ca3cddbc08}
Vector con los valores a repartir entre procesos. 